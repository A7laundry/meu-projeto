# Story E1.6 â€” Layout Base e NavegaÃ§Ã£o por Perfil
**Epic:** E1 â€” Foundation
**Status:** Ready for Review
**Criado por:** @sm (River) | 2026-02-18
**Complexidade:** S (3 pontos)

---

## DescriÃ§Ã£o
Como **qualquer usuÃ¡rio logado**, preciso de uma interface consistente com navegaÃ§Ã£o clara e adaptada ao meu perfil, para que eu acesse rapidamente as funcionalidades do meu papel sem me perder no sistema.

---

## CritÃ©rios de Aceite

- [x] **AC1:** Layout do Diretor: sidebar com todas as unidades + mÃ³dulos globais (consolidado)
- [x] **AC2:** Layout do Gerente de Unidade: sidebar com mÃ³dulos da unidade (produÃ§Ã£o, equipamentos, logÃ­stica, comercial, financeiro)
- [x] **AC3:** Layout de Setor (tablet): tela fullscreen, sem sidebar, header com nome do setor + indicador de rede + botÃ£o logout
- [x] **AC4:** Layout do Motorista (mobile): interface de lista vertical, otimizada para uma mÃ£o
- [x] **AC5:** Layout do Portal do Cliente: header simples com logo + menu hambÃºrguer
- [x] **AC6:** Componente de header com: logo Synkra, nome da unidade, nome do usuÃ¡rio, botÃ£o logout
- [x] **AC7:** Responsividade: layouts web funcionam em desktop (1280px+) e tablet landscape (1024px)
- [x] **AC8:** Loading states consistentes (skeleton) em todas as pÃ¡ginas

---

## Escopo

**IN:**
- Layouts base para cada grupo de perfil
- NavegaÃ§Ã£o/sidebar por perfil
- Header compartilhado
- Loading skeletons

**OUT:**
- ConteÃºdo das pÃ¡ginas (cada histÃ³ria de mÃ³dulo preenche o conteÃºdo)
- Dashboard com dados reais (E2+)
- Tema escuro (Wave 2)

---

## Contexto TÃ©cnico (para @dev)

### Layouts por grupo de rota
```
app/(director)/layout.tsx      â†’ DirectorLayout (sidebar global)
app/(unit)/[unitId]/layout.tsx â†’ UnitLayout (sidebar da unidade)
app/(sector)/layout.tsx        â†’ SectorLayout (fullscreen, sem sidebar)
app/(driver)/layout.tsx        â†’ DriverLayout (mobile-first)
app/(client)/layout.tsx        â†’ ClientLayout (portal simples)
```

### NavegaÃ§Ã£o do Gerente (sidebar)
```
ğŸ“Š Dashboard
ğŸ­ ProduÃ§Ã£o (rastreio de comandas)
âš™ï¸ Equipamentos
ğŸš› LogÃ­stica
ğŸ›ï¸ Comercial
ğŸ’° Financeiro
```

### OtimizaÃ§Ã£o Tablet (layouts de setor)
- Fonte base: `text-lg` (18px)
- EspaÃ§amento generoso: `p-6` mÃ­nimo
- BotÃµes: `h-14 min-w-[120px]`
- Cores: alto contraste (fundo escuro + texto branco para ambientes industriais)

---

## DependÃªncias
- E1.2 (Auth com roles) â€” **completo**
- E1.3 (Unidades) â€” **completo**

## Riscos
- Nenhum significativo

## DefiniÃ§Ã£o de Pronto
- [ ] Todos os ACs marcados
- [ ] Layouts testados nos 5 perfis distintos
- [ ] Responsividade verificada

---

## File List (preenchido por @dev)
- [x] `app/(director)/layout.tsx` â€” refatorado com AppHeader + DirectorSidebar
- [x] `app/(unit)/[unitId]/layout.tsx` â€” refatorado com AppHeader + UnitSidebar
- [x] `app/(sector)/layout.tsx` â€” fullscreen dark, sem sidebar
- [x] `app/(driver)/layout.tsx` â€” mobile-first, max-w-lg centralizado
- [x] `app/(client)/layout.tsx` â€” portal simples com AppHeader
- [x] `components/layout/director-sidebar.tsx`
- [x] `components/layout/unit-sidebar.tsx`
- [x] `components/layout/sector-header.tsx`
- [x] `components/layout/app-header.tsx`
- [x] `components/ui/skeleton.tsx` (shadcn)
- [x] `app/(director)/loading.tsx`
- [x] `app/(unit)/[unitId]/loading.tsx`
- [x] `app/(sector)/loading.tsx`
- [x] `app/(driver)/loading.tsx`
- [x] `app/(client)/loading.tsx`

## Change Log
| Data | Agente | AÃ§Ã£o |
|------|--------|------|
| 2026-02-18 | @sm River | Story criada (Status: Ready) |
| 2026-02-18 | @dev Dex | ImplementaÃ§Ã£o concluÃ­da â€” 8/8 ACs. Status: Ready for Review |
